// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Generation Stamp: 20260215-717476ad
//     Generated: 2026-02-15 18:29:05 UTC
//     Source: simple-bounded-context.json
//
//     Changes to this file will be lost when regenerated.
//     Custom business logic should be added to separate domain services.
// </auto-generated>

using Inventorization.Base.Models;

namespace Inventorization.Commerce.Domain.Entities;

/// <summary>
/// Product category
/// </summary>
public class Category : BaseEntity
{
    /// <summary>
    /// Private parameterless constructor for EF Core
    /// </summary>
    private Category() { }

    /// <summary>
    /// Creates a new instance of Category
    /// </summary>
    /// <param name="name">Category name</param>
    /// <param name="description">Category description</param>
    /// <param name="isActive">Whether the category is active</param>
    public Category(
        string name,
        string description,
        bool isActive
    )
    {
        if (string.IsNullOrWhiteSpace(name)) throw new ArgumentException("Name cannot be empty", nameof(name));
        if (name.Length > 100) throw new ArgumentException("Name cannot exceed 100 characters", nameof(name));
        if (description.Length > 500) throw new ArgumentException("Description cannot exceed 500 characters", nameof(description));

        Name = name;
        Description = description;
        IsActive = isActive;

        Id = Guid.NewGuid();
        CreatedAt = DateTime.UtcNow;
        UpdatedAt = DateTime.UtcNow;
    }

    /// <summary>
    /// Category name
    /// </summary>
    public string Name { get; private set; }

    /// <summary>
    /// Category description
    /// </summary>
    public string Description { get; private set; }

    /// <summary>
    /// Whether the category is active
    /// </summary>
    public bool IsActive { get; private set; } = true;

    /// <summary>
    /// Collection of Product
    /// </summary>
    public ICollection<Product> Products { get; } = new List<Product>(10);

    /// <summary>
    /// Timestamp when the entity was created
    /// </summary>
    public DateTime CreatedAt { get; private set; }

    /// <summary>
    /// Timestamp when the entity was last updated
    /// </summary>
    public DateTime? UpdatedAt { get; private set; }

    /// <summary>
    /// Updates Category with new values
    /// </summary>
    /// <param name="name">Category name</param>
    /// <param name="description">Category description</param>
    /// <param name="isActive">Whether the category is active</param>
    public void Update(
        string name,
        string description,
        bool isActive
    )
    {
        if (string.IsNullOrWhiteSpace(name)) throw new ArgumentException("Name cannot be empty", nameof(name));
        if (name.Length > 100) throw new ArgumentException("Name cannot exceed 100 characters", nameof(name));
        if (description.Length > 500) throw new ArgumentException("Description cannot exceed 500 characters", nameof(description));

        Name = name;
        Description = description;
        IsActive = isActive;

        UpdatedAt = DateTime.UtcNow;
    }

}
