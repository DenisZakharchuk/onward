// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Generation Stamp: 20260214-76e7efc9
//     Generated: 2026-02-14 15:34:46 UTC
//     Source: simple-bounded-context.json
//
//     Changes to this file will be lost when regenerated.
//     Custom business logic should be added to separate domain services.
// </auto-generated>

using Inventorization.Base.Models;
using Inventorization.Commerce.Common.Enums;

namespace Inventorization.Commerce.Domain.Entities;

/// <summary>
/// Customer address
/// </summary>
public class Address : BaseEntity
{
    /// <summary>
    /// Private parameterless constructor for EF Core
    /// </summary>
    private Address() { }

    /// <summary>
    /// Creates a new instance of Address
    /// </summary>
    /// <param name="customerId">Customer ID</param>
    /// <param name="addressType">Address type (Shipping or Billing)</param>
    /// <param name="street">Street address</param>
    /// <param name="city">City</param>
    /// <param name="state">State or province</param>
    /// <param name="postalCode">Postal or ZIP code</param>
    /// <param name="country">Country</param>
    /// <param name="isDefault">Whether this is the default address</param>
    public Address(
        Guid customerId,
        AddressType addressType,
        string street,
        string city,
        string state,
        string postalCode,
        string country,
        bool isDefault
    )
    {
        if (string.IsNullOrWhiteSpace(street)) throw new ArgumentException("Street cannot be empty", nameof(street));
        if (street.Length > 200) throw new ArgumentException("Street cannot exceed 200 characters", nameof(street));
        if (string.IsNullOrWhiteSpace(city)) throw new ArgumentException("City cannot be empty", nameof(city));
        if (city.Length > 100) throw new ArgumentException("City cannot exceed 100 characters", nameof(city));
        if (string.IsNullOrWhiteSpace(state)) throw new ArgumentException("State cannot be empty", nameof(state));
        if (state.Length > 100) throw new ArgumentException("State cannot exceed 100 characters", nameof(state));
        if (string.IsNullOrWhiteSpace(postalCode)) throw new ArgumentException("PostalCode cannot be empty", nameof(postalCode));
        if (postalCode.Length > 20) throw new ArgumentException("PostalCode cannot exceed 20 characters", nameof(postalCode));
        if (string.IsNullOrWhiteSpace(country)) throw new ArgumentException("Country cannot be empty", nameof(country));
        if (country.Length > 100) throw new ArgumentException("Country cannot exceed 100 characters", nameof(country));

        CustomerId = customerId;
        AddressType = addressType;
        Street = street;
        City = city;
        State = state;
        PostalCode = postalCode;
        Country = country;
        IsDefault = isDefault;

        Id = Guid.NewGuid();
        CreatedAt = DateTime.UtcNow;
    }

    /// <summary>
    /// Customer ID
    /// </summary>
    public Guid CustomerId { get; private set; }

    /// <summary>
    /// Address type (Shipping or Billing)
    /// </summary>
    public AddressType AddressType { get; private set; } = AddressType.Shipping;

    /// <summary>
    /// Street address
    /// </summary>
    public string Street { get; private set; }

    /// <summary>
    /// City
    /// </summary>
    public string City { get; private set; }

    /// <summary>
    /// State or province
    /// </summary>
    public string State { get; private set; }

    /// <summary>
    /// Postal or ZIP code
    /// </summary>
    public string PostalCode { get; private set; }

    /// <summary>
    /// Country
    /// </summary>
    public string Country { get; private set; }

    /// <summary>
    /// Whether this is the default address
    /// </summary>
    public bool IsDefault { get; private set; } = false;

    /// <summary>
    /// Navigation to Customer
    /// </summary>
    public Customer Customer { get; } = null!;

    /// <summary>
    /// Collection of Order
    /// </summary>
    public ICollection<Order> OrdersShippedTo { get; } = new List<Order>();

    /// <summary>
    /// Timestamp when the entity was created
    /// </summary>
    public DateTime CreatedAt { get; private set; }

}
