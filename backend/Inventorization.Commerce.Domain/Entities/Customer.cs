// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Generation Stamp: 20260215-717476ad
//     Generated: 2026-02-15 18:29:05 UTC
//     Source: simple-bounded-context.json
//
//     Changes to this file will be lost when regenerated.
//     Custom business logic should be added to separate domain services.
// </auto-generated>

using Inventorization.Base.Models;

namespace Inventorization.Commerce.Domain.Entities;

/// <summary>
/// Customer account
/// </summary>
public class Customer : BaseEntity
{
    /// <summary>
    /// Private parameterless constructor for EF Core
    /// </summary>
    private Customer() { }

    /// <summary>
    /// Creates a new instance of Customer
    /// </summary>
    /// <param name="firstName">Customer first name</param>
    /// <param name="lastName">Customer last name</param>
    /// <param name="email">Customer email address</param>
    /// <param name="phone">Customer phone number</param>
    /// <param name="isActive">Whether the customer account is active</param>
    public Customer(
        string firstName,
        string lastName,
        string email,
        string phone,
        bool isActive
    )
    {
        if (string.IsNullOrWhiteSpace(firstName)) throw new ArgumentException("FirstName cannot be empty", nameof(firstName));
        if (firstName.Length > 100) throw new ArgumentException("FirstName cannot exceed 100 characters", nameof(firstName));
        if (string.IsNullOrWhiteSpace(lastName)) throw new ArgumentException("LastName cannot be empty", nameof(lastName));
        if (lastName.Length > 100) throw new ArgumentException("LastName cannot exceed 100 characters", nameof(lastName));
        if (string.IsNullOrWhiteSpace(email)) throw new ArgumentException("Email cannot be empty", nameof(email));
        if (email.Length > 255) throw new ArgumentException("Email cannot exceed 255 characters", nameof(email));
        if (phone.Length > 20) throw new ArgumentException("Phone cannot exceed 20 characters", nameof(phone));

        FirstName = firstName;
        LastName = lastName;
        Email = email;
        Phone = phone;
        IsActive = isActive;

        Id = Guid.NewGuid();
        CreatedAt = DateTime.UtcNow;
        UpdatedAt = DateTime.UtcNow;
    }

    /// <summary>
    /// Customer first name
    /// </summary>
    public string FirstName { get; private set; }

    /// <summary>
    /// Customer last name
    /// </summary>
    public string LastName { get; private set; }

    /// <summary>
    /// Customer email address
    /// </summary>
    public string Email { get; private set; }

    /// <summary>
    /// Customer phone number
    /// </summary>
    public string Phone { get; private set; }

    /// <summary>
    /// Whether the customer account is active
    /// </summary>
    public bool IsActive { get; private set; } = true;

    /// <summary>
    /// Collection of Order
    /// </summary>
    public ICollection<Order> Orders { get; } = new List<Order>(10);

    /// <summary>
    /// Collection of Address
    /// </summary>
    public ICollection<Address> Addresses { get; } = new List<Address>(10);

    /// <summary>
    /// Timestamp when the entity was created
    /// </summary>
    public DateTime CreatedAt { get; private set; }

    /// <summary>
    /// Timestamp when the entity was last updated
    /// </summary>
    public DateTime? UpdatedAt { get; private set; }

    /// <summary>
    /// Updates Customer with new values
    /// </summary>
    /// <param name="firstName">Customer first name</param>
    /// <param name="lastName">Customer last name</param>
    /// <param name="email">Customer email address</param>
    /// <param name="phone">Customer phone number</param>
    /// <param name="isActive">Whether the customer account is active</param>
    public void Update(
        string firstName,
        string lastName,
        string email,
        string phone,
        bool isActive
    )
    {
        if (string.IsNullOrWhiteSpace(firstName)) throw new ArgumentException("FirstName cannot be empty", nameof(firstName));
        if (firstName.Length > 100) throw new ArgumentException("FirstName cannot exceed 100 characters", nameof(firstName));
        if (string.IsNullOrWhiteSpace(lastName)) throw new ArgumentException("LastName cannot be empty", nameof(lastName));
        if (lastName.Length > 100) throw new ArgumentException("LastName cannot exceed 100 characters", nameof(lastName));
        if (string.IsNullOrWhiteSpace(email)) throw new ArgumentException("Email cannot be empty", nameof(email));
        if (email.Length > 255) throw new ArgumentException("Email cannot exceed 255 characters", nameof(email));
        if (phone.Length > 20) throw new ArgumentException("Phone cannot exceed 20 characters", nameof(phone));

        FirstName = firstName;
        LastName = lastName;
        Email = email;
        Phone = phone;
        IsActive = isActive;

        UpdatedAt = DateTime.UtcNow;
    }

}
