// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using Inventorization.Commerce.DTO.Category;
using Inventorization.Base.Abstractions;

namespace Inventorization.Commerce.BL.Validators;

/// <summary>
/// Validator for CreateCategoryDTO
/// </summary>
public class CreateCategoryValidator : IValidator<CreateCategoryDTO>
{
    public Task<ValidationResult> ValidateAsync(
        CreateCategoryDTO dto,
        CancellationToken cancellationToken = default)
    {
        if (dto == null)
            return Task.FromResult(ValidationResult.WithErrors("DTO cannot be null"));

        var errors = new List<string>(8);

        if (string.IsNullOrWhiteSpace(dto.Name))
    errors.Add("Name is required");

        if (!string.IsNullOrEmpty(dto.Name) && dto.Name.Length > 100)
    errors.Add("Name cannot exceed 100 characters");

        if (!string.IsNullOrEmpty(dto.Description) && dto.Description.Length > 500)
    errors.Add("Description cannot exceed 500 characters");


        return Task.FromResult(errors.Any()
            ? ValidationResult.WithErrors(errors.ToArray())
            : ValidationResult.Ok());
    }
}
