// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using {{namespace}}.DTO.{{entityName}};
using {{baseNamespace}}.Base.Abstractions;

namespace {{namespace}}.Domain.Validators;

/// <summary>
/// Validator for Update{{entityName}}DTO
/// </summary>
public class Update{{entityName}}Validator : IValidator<Update{{entityName}}DTO>
{
    {{#if hasDependencies}}
    {{#each dependencies}}
    private readonly {{type}} {{fieldName}};
    {{/each}}

    public Update{{entityName}}Validator(
        {{#each dependencies}}
        {{type}} {{paramName}}{{#unless @last}},{{/unless}}
        {{/each}}
    )
    {
        {{#each dependencies}}
        {{fieldName}} = {{paramName}};
        {{/each}}
    }

    {{/if}}
    public Task<ValidationResult> ValidateAsync(
        Update{{entityName}}DTO dto,
        CancellationToken cancellationToken = default)
    {
        if (dto == null)
            return Task.FromResult(ValidationResult.WithErrors("DTO cannot be null"));

        var errors = new List<string>(8);

        {{#each validationRules}}
        {{{this}}}

        {{/each}}

        return Task.FromResult(errors.Any()
            ? ValidationResult.WithErrors(errors.ToArray())
            : ValidationResult.Ok());
    }
}
