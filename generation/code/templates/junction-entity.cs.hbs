// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Generation Stamp: {{generationStamp}}
//     Generated: {{generatedAt}}
//     Source: {{sourceFile}}
//
//     Changes to this file will be lost when regenerated.
//     Custom business logic should be added to separate domain services.
// </auto-generated>

using {{namespace}}.Base;

namespace {{namespace}}.Domain.Entities;

/// <summary>
/// Junction entity representing the many-to-many relationship between {{leftEntity}} and {{rightEntity}}
/// </summary>
public class {{junctionName}} : JunctionEntityBase
{
    /// <summary>
    /// Private parameterless constructor for EF Core
    /// </summary>
    private {{junctionName}}() : base(Guid.Empty, Guid.Empty) { }

    /// <summary>
    /// Creates a new instance of {{junctionName}}
    /// </summary>
    /// <param name="{{leftEntityParam}}Id">ID of the {{leftEntity}}</param>
    /// <param name="{{rightEntityParam}}Id">ID of the {{rightEntity}}</param>
    {{#each metadataParams}}
    /// <param name="{{paramName}}">{{paramDescription}}</param>
    {{/each}}
    public {{junctionName}}(
        Guid {{leftEntityParam}}Id,
        Guid {{rightEntityParam}}Id{{#if hasMetadata}},{{/if}}
        {{#each metadataParams}}
        {{type}} {{paramName}}{{#unless @last}},{{/unless}}
        {{/each}}
    ) : base({{leftEntityParam}}Id, {{rightEntityParam}}Id)
    {
        {{#each metadataAssignments}}
        {{{this}}}
        {{/each}}
    }

    /// <summary>
    /// Gets the {{leftEntity}} ID (alias for EntityId)
    /// </summary>
    public Guid {{leftEntity}}Id => EntityId;

    /// <summary>
    /// Gets the {{rightEntity}} ID (alias for RelatedEntityId)
    /// </summary>
    public Guid {{rightEntity}}Id => RelatedEntityId;

    {{#each metadataProperties}}
    {{#if description}}
    /// <summary>
    /// {{description}}
    /// </summary>
    {{/if}}
    public {{type}} {{name}} { get; private set; }{{#if defaultValue}} = {{defaultValue}};{{/if}}

    {{/each}}
    /// <summary>
    /// Navigation property to {{leftEntity}}
    /// </summary>
    public {{leftEntity}} {{leftEntity}} { get; } = null!;

    /// <summary>
    /// Navigation property to {{rightEntity}}
    /// </summary>
    public {{rightEntity}} {{rightEntity}} { get; } = null!;
}
