// <auto-generated>
//     This code was generated by the BoundedContext Code Generator.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>

using {{namespace}}.DTO.{{entityName}};
using {{baseNamespace}}.Base.Abstractions;
using {{baseNamespace}}.Base.Models;

namespace {{namespace}}.Domain.Validators;

/// <summary>
/// Validator for Create{{entityName}}DTO
/// </summary>
public class Create{{entityName}}Validator : IValidator<Create{{entityName}}DTO>
{
    {{#if hasDependencies}}
    {{#each dependencies}}
    private readonly {{type}} {{fieldName}};
    {{/each}}

    public Create{{entityName}}Validator(
        {{#each dependencies}}
        {{type}} {{paramName}}{{#unless @last}},{{/unless}}
        {{/each}}
    )
    {
        {{#each dependencies}}
        {{fieldName}} = {{paramName}};
        {{/each}}
    }

    {{/if}}
    public async Task<ValidationResult> ValidateAsync(
        Create{{entityName}}DTO dto,
        CancellationToken cancellationToken = default)
    {
        if (dto == null)
            return ValidationResult.WithErrors("DTO cannot be null");

        var errors = new List<string>();

        {{#each validationRules}}
        {{{this}}}

        {{/each}}

        return errors.Any()
            ? ValidationResult.WithErrors(errors.ToArray())
            : ValidationResult.Ok();
    }
}
